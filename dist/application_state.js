!function(e){var t={};function n(r){if(t[r])return t[r].exports;var i=t[r]={i:r,l:!1,exports:{}};return e[r].call(i.exports,i,i.exports,n),i.l=!0,i.exports}n.m=e,n.c=t,n.d=function(e,t,r){n.o(e,t)||Object.defineProperty(e,t,{enumerable:!0,get:r})},n.r=function(e){"undefined"!=typeof Symbol&&Symbol.toStringTag&&Object.defineProperty(e,Symbol.toStringTag,{value:"Module"}),Object.defineProperty(e,"__esModule",{value:!0})},n.t=function(e,t){if(1&t&&(e=n(e)),8&t)return e;if(4&t&&"object"==typeof e&&e&&e.__esModule)return e;var r=Object.create(null);if(n.r(r),Object.defineProperty(r,"default",{enumerable:!0,value:e}),2&t&&"string"!=typeof e)for(var i in e)n.d(r,i,function(t){return e[t]}.bind(null,i));return r},n.n=function(e){var t=e&&e.__esModule?function(){return e.default}:function(){return e};return n.d(t,"a",t),t},n.o=function(e,t){return Object.prototype.hasOwnProperty.call(e,t)},n.p="",n(n.s=0)}([function(e,t,n){"use strict";n.r(t);class r{static get(e){return e=r._dereferencePath(e),r._resolvePath(e)}static getOrSet(e,t,n){const i=r.get(e);return void 0!==i?i:(r.set(e,t,n),r.get(e))}static listen(e,t){return r._listeners[e]||(r._listeners[e]=[]),r._listenerKey++,t._listenerKey=r._listenerKey,r._listeners[e].push(t),t._listenerKey}static removeListener(e,t){if(r._listeners[e])for(let n=0;n<r._listeners[e].length;n++)r._listeners[e][n]._listenerKey==t&&r._listeners[e].splice(n,1)}static async set(e,t,n){e=r._dereferencePath(e);if(n=Object.assign({notify:!0,exclude_notification_paths:[],exclude_notification_listeners:[],immutable:!1,persist:!0,save_previous:!0},n),r._options[e]=n,!r._previousState[e]&&n.save_previous&&(r._previousState[e]=[]),n.save_previous){let t=r._resolvePath(e);void 0!==t&&r._previousState[e].push(t)}r._assignValue(e,t),await r.notify(e,!1,n)}static _assignValue(e,t,n){n=n||r._state;const i=r.walk(e);for(let e=0;e<i.length;e++){const r=i[e];switch(r.type){case"object":void 0===n[r.name]&&(n[r.name]={}),n=n[r.name];break;case"array":void 0===n[r.name]&&(n[r.name]=[]),n=n[r.name];break;case"leaf":return n[r.name]=t}}throw Error("We should have returned after setting the value.")}static ln(e,t){r._symlinks||(r._symlinks={}),r._reverse_symlinks||(r._reverse_symlinks={}),e=r._dereferencePath(e);let n=t.split("."),i=n.slice(-1);t=r._dereferencePath(n.slice(0,-1).join("."))+"."+i,r._symlinks[t]=e,r._reverse_symlinks[e]||(r._reverse_symlinks[e]=[]),r._reverse_symlinks[e].push(t)}static async rm(e,t){t=t||r._state;let n=e;if("app"===e)return;if(!e)return;function i(e,t){let n=r._symlinks[e];if(delete r._symlinks[e],!t){let t=r._reverse_symlinks[n];t.splice(t.indexOf(e),1)}}if(function(e){return!(!r._symlinks||!r._symlinks[e])}(e=r._materializePath(e)))return i(e);if(function(e){return!(!r._reverse_symlinks||!r._reverse_symlinks[e])}(e)){for(let t=0;t<r._reverse_symlinks[e].length;t++)i(e,!0);delete r._reverse_symlinks[e]}let s=r.walk(e),a=s.slice(-1)[0];s=s.slice(0,-1);for(let n=0;n<s.length;n++)if(void 0===(t=t[s[n].name]))throw new Error("Undefined target in ApplicationState.rm: "+e);"array"===a.parent_type?t.splice(a.name,1):delete t[a.name];let l=r._options[n];l||(l={notify:!0,exclude_notification_paths:[],exclude_notification_listeners:[],immutable:!1,persist:!0,save_previous:!0}),await r.notify(n,!1,l)}static _dereferencePath(e){if(!r._symlinks)return e;const t=r.walk(e);for(let n=0;n<t.length;n++){const i=t[n];if(r._symlinks[i.path])return e=e.replace(i.path,r._symlinks[i.path]),r._dereferencePath(e)}return e}static _reverseSymlink(e){if(e.indexOf(".")<0)return[];let t=[],n=[];function i(e){let t=e.split("."),i=t.slice(-1),s=t.slice(0,-1).join("."),a=r._reverseSymlink(s);for(let e=0;e<a.length;e++)n.push(a[e]+"."+i)}r._reverse_symlinks[e]&&(t=r._reverse_symlinks[e]);for(let e=0;e<t.length;e++)i(t[e]);return i(e),t.concat(n)}static _materializePath(e){let t=e.split("."),n=t.slice(-1);return r._dereferencePath(t.slice(0,-1).join("."))+"."+n}static _resolvePath(e,t){if("string"!=typeof e)throw Error("is");t=t||r._state;const n=r.walk(e);for(let e=0;e<n.length;e++){if(void 0===(t=t[n[e].name]))return;if(null===t)return null}return t}static async notify(e,t,n){async function i(e,t,i){if(!(n.exclude_notification_listeners.indexOf(e._listenerKey)>=0)){if(t=r._dereferencePath(t),r._previousState[t])return await e(r._resolvePath(t),r._previousState[t][r._previousState[t].length-1],i);await e(r._resolvePath(t),void 0,i)}}async function s(e){if(!r._symlinks)return;let t=r._reverseSymlink(e);for(let e=0;e<t.length;e++){const s=t[e];if(!r._listeners[s])return;if(n.exclude_notification_paths.indexOf(s)>=0)return;const a=r._listeners[s];for(let e=0;e<a.lenth;e++)await i(a[e],s)}}r._disable_notification||(t||await async function(e){const t=r.walk(e);for(let a=0;a<t.length;a++){const l=t[a];if("leaf"!==l.type&&(await s(l.path),!(n.exclude_notification_paths.indexOf(l.path)>=0)&&r._listeners[l.path])){const t=r._listeners[l.path];for(let n=0;n<t.length;n++)await i(t[n],l.path,e)}}}(e),await async function(e){if(await s(e),!r._listeners[e])return;if(n.exclude_notification_paths.indexOf(e)>=0)return;const t=r._listeners[e];for(let n=0;n<t.length;n++)await i(t[n],e)}(e),t||await async function e(t){const a=r._resolvePath(t);if(a&&"object"==typeof a)if(Array.isArray(a)){const l=a.length;for(let a=0;a<l;a++){const l=t+"["+a+"]";if(await s(l),n.exclude_notification_paths.indexOf(l)>=0)return await e(l);if(r._listeners[l]){const e=r._listeners[l];for(let n=0;n<e.length;n++)await i(e[n],l,t)}await e(l)}}else{const l=Object.keys(a);for(let a=0;a<l.length;a++){const o=t+"."+l[a];if(await s(o),n.exclude_notification_paths.indexOf(o)>=0)return await e(o);if(r._listeners[o]){const e=r._listeners[o];for(let n=0;n<e.length;n++)await i(e[n],o,t)}await e(o)}}}(e))}static undo(e){if(e.indexOf(".")<0)return r._previousState[e]?void(r._state[e]=r._previousState[e].pop()):r._state[e]=void 0;var t=e.split(".");for(let n=t.length;n>0;n--)if(e=t.slice(0,n).join("."),r._state[e]){if(!r._previousState[e])return r._state[e]=void 0;r._state[e]=r._previousState[e].pop()}}static disable_notfication(){r._disable_notification=!0}static enable_notification(){r._disable_notification=!1}static flatten(e,t,n){n||(n=[]),t||(t="");let r=Object.keys(e),i=Array.isArray(e);for(let s=0;s<r.length;s++){let a,l=e[r[s]];a=i?t+(t?"["+r[s]+"]":""):t+(t?".":"")+r[s],l&&"object"==typeof l?this.flatten(l,a,n):((l=JSON.stringify(l))||(l=JSON.stringify(null)),n.push({key:a,value:l}))}return n}static walk(e){let t,n,r,i,s,a,l=0;const o=[];if("["===e[0])throw Error("Root node cannot be an array");const _=function(e,t,n){let r;return t?r="array"===n?t.replace("["+e+"]",""):t.replace("."+e,""):""};for(t=0;t<e.length;t++)if(l!==t)if("."!==e[l]&&"["!==e[l]&&"]"!==e[l]||l++,"."!==e[t])if("["!==e[t]){if("]"===e[t]){if(n=e.substring(l,t),r=e.substring(0,t+1),t+1===e.length)return o.push({name:parseInt(n),path:r,parent:s,parent_path:_(n,r,a),parent_type:a,type:"leaf"}),s=n,o;i="["===e[t+1]?"array":"object",o.push({name:parseInt(n),path:r,parent:s,parent_path:_(n,r,a),parent_type:a,type:i}),s=n,a=i,l=t+1}}else n=e.substring(l,t),r=e.substring(0,t),l=t+1,i="array",o.push({name:n,path:r,parent:s,parent_path:_(n,r,a),parent_type:a,type:i}),s=n,a=i;else n=e.substring(l,t),r=e.substring(0,t),l=t+1,i="object",o.push({name:n,path:r,parent:s,parent_path:_(n,r,a),parent_type:a,type:i}),s=n,a=i;return l===t+1?o:(o.push({name:e.substring(l),path:e,parent:s,parent_path:_(e,r,a),parent_type:a,type:"leaf"}),o)}}r._previousState={},r._state={},r._listeners=[],r._listenerKey=0,r._options={},t.default=r}]);